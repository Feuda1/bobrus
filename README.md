# Bobrus
Небольшая Windows-утилита для полевого саппорта iiko. Вместо ручных ритуалов - одно окно, где программа сама чистит мусор, рестартует сервисы, ставит плагины, собирает логи, гоняет сетевую диагностику и скачивает нужные тулзы.

**Что умеет**
- Система: перезагрузка ПК, вкл/выкл сенсор + перезапуск, рестарт COM-портов, перезапуск и очистка диспетчера печати, включение TLS 1.2, быстрая очистка Temp/кешей браузеров/старых логов, при необходимости - отключение Defender и брандмауэра.
- IIKO: закрывает/перезапускает iikoFront, скачивает и ставит iikoCard, открывает частые логи и папки (CashServer, EntitiesStorage, PluginConfigs, Plugins, UTM и т.д.).
- Плагины: тянет список с https://rapid.iiko.ru/plugins/, показывает версии, скачивает и распаковывает в `C:\Program Files\iiko\iikoRMS\Front.Net\Plugins`.
- Сеть: отдельное окно с `ipconfig`, `ping`, трассировкой и большим встроенным батником диагностики; лог падает в `Документы/BobrusNetDiag`.
- Программы: кнопки для 7-Zip (x64/x86), Notepad++, Advanced IP Scanner, AnyDesk, Ассистент, ComPortChecker, DatabaseNet, Printer Test, Rhelper (кладёт пароль в рядом лежащий `пароль.txt`), OrderCheck, CLEAR.bat, FrontTools и FrontTools SQLite. Скачивание с прогрессом, распаковка и открытие в проводнике - программа делает сама.
- Сбор логов: выбираешь даты, можно добавить всю папку CashServer, нужные базы EntitiesStorage (front/events/plugins/search/sync), отчёт msinfo32/systeminfo и сетевую диагностику для сервера из config.xml или введённого вручную. Результат - готовый архив в `Документы/BobrusLogs`.
- Поиск по функциям, всплывающие уведомления, лог действий в окне и файле.

**Обновления и настройки**
- Автопроверка обновлений каждые 2 часа плюс кнопка ручной проверки. Обновления тянутся из релизов GitHub, складываются во временные папки и ставятся в один клик.
- Настройки (автозапуск и сворачивание в трей) хранятся в `%LOCALAPPDATA%\\Bobrus\\settings.json`. Логи приложения - `%LOCALAPPDATA%\\Bobrus\\logs`.
- Одна инстанция: если уже запущено, второе окно не появится; можно спрятать в трей по крестику, если включён тумблер.

**Как пользоваться**
- Скачай сборку из релизов, запусти `Bobrus.exe`.
- Жми нужные кнопки; если действие требует админа (защитник, TLS, сенсор), Windows сама спросит UAC.
- В разделе «Сеть» - ipconfig/ping или «Полная диагностика».
- В «Сбор логов» выбери даты, отметь доп. опции и жми «Собрать» - архив сам откроется в проводнике.

**Полезно помнить**
- Некоторые функции опираются на стандартные пути iiko (`C:\Program Files\iiko\iikoRMS\Front.Net`, `%APPDATA%\\iiko\\CashServer`).
- pnputil, sc.exe, msinfo32, systeminfo и прочие системные утилиты должны быть в PATH (обычно так и есть).